<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">
    <!-- 新增：适配移动端的关键meta -->
    <meta name="format-detection" content="telephone=no, email=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="white">
    <title>导航页面</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft Yahei", sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            width: 100%;
            height: 100%;
            background-color: #f5f5f5;
            padding: 0;
            overflow-x: hidden;
            /* 核心：禁止页面滚动 + 隐藏滚动条 */
            overflow: hidden !important;
            scrollbar-width: none; /* Firefox隐藏滚动条 */
            -ms-overflow-style: none; /* IE/Edge隐藏滚动条 */
        }

        /* 隐藏webkit内核浏览器滚动条 */
        html::-webkit-scrollbar,
        body::-webkit-scrollbar,
        .page-content::-webkit-scrollbar {
            display: none !important;
        }

        /* 顶部固定导航栏容器 - 移动端适配 */
        .top-fixed {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: #fff;
            z-index: 999;
            padding: 10px 15px; /* 减小上下内边距，适配手机 */
            border-bottom: 1px solid #eee;
        }

        /* 导航栏样式 - 移动端优化 */
        .nav-bar {
            display: flex;
            border-bottom: 1px solid #eee;
            width: 100%; /* 确保占满宽度 */
        }

        .nav-item {
            padding: 10px 15px; /* 减小左右内边距，适配窄屏 */
            font-size: 15px; /* 移动端字体稍小 */
            color: #666;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
            flex: 1; /* 平分宽度，适配手机 */
            text-align: center; /* 文字居中，避免错位 */
        }

        .nav-item.active {
            color: #1677ff;
            border-bottom-color: #1677ff;
            font-weight: 500;
        }

        .nav-item:hover {
            color: #1677ff;
        }

        /* 页面内容区域 - 移动端适配 + 禁止滚动 */
        .page-content {
            width: 100%;
            height: calc(100vh - 65px); /* 固定高度，填满剩余屏幕 */
            background: #fff;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px; /* 减小间距，适配手机屏幕高度 */
            padding: 0 15px; /* 减小左右内边距 */
            margin-top: 65px; /* 适配导航栏高度，避免遮挡 */
            padding-bottom: 20px; /* 底部留空，避免贴边 */
            /* 禁止内容区域滚动 */
            overflow: hidden !important;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        /* 标题样式 - 移动端适配 */
        .main-title {
            font-size: clamp(22px, 6vw, 28px); /* 响应式字体，适配不同屏幕 */
            font-weight: bold;
            color: #1677ff;
            text-align: center;
            margin-bottom: 25px; /* 减小间距 */
            position: relative;
            padding-bottom: 12px;
            cursor: pointer;
            text-decoration: none;
            line-height: 1.3; /* 行高优化，避免文字溢出 */
        }

        .main-title:hover {
            color: #0958d9;
        }

        .main-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 70px; /* 减小下划线宽度 */
            height: 3px;
            background-color: #1677ff;
            border-radius: 2px;
        }

        /* 宣传文字样式 - 移动端适配 */
        .promo-text {
            font-size: clamp(16px, 4.5vw, 20px); /* 响应式字体 */
            font-weight: bold;
            color: #333;
            text-align: center;
            line-height: 1.4; /* 优化行高 */
            width: 100%; /* 占满宽度，避免内容挤压 */
            padding: 5px 0; /* 增加点击区域 */
        }

        /* 不同图标对应的文字颜色区分 */
        .promo-text.earth {
            color: #2e8b57;
        }

        .promo-text.lock {
            color: #1677ff;
        }

        .promo-text.rocket {
            color: #ff4500;
        }

        .promo-text.user {
            color: #9370db;
        }

        /* 新增行保持和user类相同的颜色样式 */
        .promo-text.tap-unlock {
            color: #9370db;
        }

        /* 邀请码样式 - 移动端适配 */
        .invite-code-container {
            display: flex;
            align-items: center;
            gap: 8px; /* 减小间距 */
            margin-top: 15px;
            padding: 10px 15px; /* 减小内边距 */
            background-color: #f0f7ff;
            border: 1px solid #e6f0ff;
            border-radius: 8px;
            width: 100%; /* 占满宽度，适配手机窄屏 */
            max-width: 350px; /* 限制最大宽度，避免太宽 */
            flex-wrap: wrap; /* 兼容极小屏幕，自动换行 */
            justify-content: center; /* 内容居中 */
        }

        .invite-code-label {
            font-size: clamp(16px, 4.5vw, 20px); /* 响应式字体 */
            font-weight: bold;
            color: #1677ff;
            white-space: nowrap; /* 避免标签换行 */
        }

        .invite-code {
            font-size: clamp(16px, 4.5vw, 20px); /* 响应式字体 */
            font-weight: bold;
            color: #ff4500;
            letter-spacing: 1px; /* 减小字间距，适配窄屏 */
            font-family: "Courier New", monospace;
            white-space: nowrap; /* 避免邀请码换行 */
        }

        .copy-btn {
            padding: 8px 18px; /* 优化按钮大小 */
            background-color: #1677ff;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 15px; /* 移动端字体稍小 */
            cursor: pointer;
            transition: background-color 0.3s;
            min-width: 80px; /* 保证按钮最小宽度，方便点击 */
            height: 40px; /* 固定高度，增大点击区域 */
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0; /* 避免按钮被压缩 */
        }

        .copy-btn:hover {
            background-color: #0958d9;
        }

        .copy-btn.copied {
            background-color: #52c41a;
        }

        /* 修复a标签包裹宣传文字的样式问题 */
        .page-content > a {
            text-decoration: none; /* 移除链接下划线 */
            width: 100%; /* 占满宽度 */
        }
    </style>
</head>
<body>
<!-- 顶部固定导航栏 -->
<div class="top-fixed">
    <div class="nav-bar">
        <div class="nav-item" id="nav-music">音乐</div>
        <div class="nav-item active" id="nav-link_two">{$link_two.name}</div>
    </div>
</div>

<!-- 第二个导航项对应的页面内容（展示宣传文字） -->
<div class="page-content" id="linkTwo-page">
    <!-- 标题超链接（新页面打开） -->
    <a href="{$link_two.linkTwoIframeUrl}" target="_blank" class="main-title">
        {$link_two.title}
    </a>

    <!-- 宣传文字 - 移动端优化点击区域 -->
    <a href="{$link_two.linkTwoIframeUrl}" target="_blank">
        <div class="promo-text earth">🌍 稳定运行已经超 2000 天！</div>
        <div class="promo-text lock">🔒 无需任何信息即可注册！</div>
        <div class="promo-text rocket">🚀 无需配置，3秒内连接！</div>
        <div class="promo-text tap-unlock">👨 已经助力3000W+用户解锁全球网络！</div>
        <!-- 新增的一行内容 -->
        <div class="promo-text user">☝️ 点击解锁</div>
    </a>

    <!-- 邀请码区域（已去掉超链接） -->
    <div class="invite-code-container">
        <span class="invite-code-label">邀请码ID：</span>
        <span class="invite-code" id="inviteCodeText">{$link_two.invitationCode}</span>
        <button class="copy-btn" id="copyBtn">复制</button>
    </div>
</div>

{if condition="!$env"}
<script>
    // 禁用调试相关（保留原代码的禁用逻辑）
    document.addEventListener('keydown', e => {
        const forbiddenKeys = ['F12', 'I', 'J', 'U', 'C'];
        if (forbiddenKeys.includes(e.key.toUpperCase()) && (e.ctrlKey || e.shiftKey || e.key === 'F12')) {
            e.preventDefault();
            e.stopPropagation();
            return false;
        }
    }, true);
    document.addEventListener('contextmenu', e => {
        e.preventDefault();
        return false;
    }, true);
    console.log = console.error = console.warn = () => {
    };
</script>
{/if}

<script>
    // 新增：导航栏元素
    const navMusic = document.getElementById('nav-music');
    const navLinkTwo = document.getElementById('nav-link_two');

    // 音乐导航项点击跳转
    navMusic.addEventListener('click', () => {
        // 移除当前导航的激活状态，添加音乐导航的激活状态
        navLinkTwo.classList.remove('active');
        navMusic.classList.add('active');
        // 跳转到根目录
        window.location.href = './';
    });

    // 第二个导航项点击逻辑（防止误操作取消激活状态）
    navLinkTwo.addEventListener('click', () => {
        // 确保始终保持激活状态
        navMusic.classList.remove('active');
        navLinkTwo.classList.add('active');
    });

    // 邀请码复制功能 - 移动端兼容优化
    const copyBtn = document.getElementById('copyBtn');
    const inviteCodeText = document.getElementById('inviteCodeText');

    copyBtn.addEventListener('click', async (e) => {
        // 阻止事件冒泡，避免触发外层链接
        e.preventDefault();
        e.stopPropagation();

        try {
            await navigator.clipboard.writeText(inviteCodeText.textContent);

            copyBtn.textContent = '已复制';
            copyBtn.classList.add('copied');

            setTimeout(() => {
                copyBtn.textContent = '复制';
                copyBtn.classList.remove('copied');
            }, 2000);

        } catch (err) {
            // 兼容移动端低版本浏览器
            const textArea = document.createElement('textarea');
            textArea.value = inviteCodeText.textContent;
            // 定位到屏幕外，避免闪烁
            textArea.style.position = 'absolute';
            textArea.style.left = '-9999px';
            document.body.appendChild(textArea);
            textArea.select();
            // 兼容移动端复制
            document.execCommand('copy');
            document.body.removeChild(textArea);

            copyBtn.textContent = '已复制';
            copyBtn.classList.add('copied');
            setTimeout(() => {
                copyBtn.textContent = '复制';
                copyBtn.classList.remove('copied');
            }, 2000);
        }
    });

    // 额外防护：禁止触摸滚动（移动端）
    document.addEventListener('touchmove', function (e) {
        e.preventDefault();
    }, {passive: false});

    // 移动端适配：窗口大小变化时重新布局
    window.addEventListener('resize', () => {
        document.body.scrollTop = 0; // 避免窗口变化导致内容偏移
    });
</script>
</body>
</html>